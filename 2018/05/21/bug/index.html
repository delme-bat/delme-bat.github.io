<!DOCTYPE html><html class="theme-next muse use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css"><meta name="keywords" content="Git,Hexo,Android,MantisBT,Bug,WeiXin,Ruby,SQLite3,"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2"><meta name="description" content="MantisBT配置邮件出现发不出去的问题123452018-05-15 07:58:48 SMTP NOTICE: EOF caught while checking if connectedSMTP Error: Could not authenticate.SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/T"><meta name="keywords" content="Git,Hexo,Android,MantisBT,Bug,WeiXin,Ruby,SQLite3"><meta property="og:type" content="article"><meta property="og:title" content="持续更新遇到的Bug及需求"><meta property="og:url" content="http://delme-bat.github.io/2018/05/21/bug/index.html"><meta property="og:site_name" content="Delme-bat&#39;s blog"><meta property="og:description" content="MantisBT配置邮件出现发不出去的问题123452018-05-15 07:58:48 SMTP NOTICE: EOF caught while checking if connectedSMTP Error: Could not authenticate.SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/T"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="http://delme-bat.github.io/2018/05/21/bug/1.png"><meta property="og:image" content="http://delme-bat.github.io/2018/05/21/bug/2.png"><meta property="og:image" content="http://delme-bat.github.io/2018/05/21/bug/3.png"><meta property="og:updated_time" content="2018-07-20T03:03:22.606Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="持续更新遇到的Bug及需求"><meta name="twitter:description" content="MantisBT配置邮件出现发不出去的问题123452018-05-15 07:58:48 SMTP NOTICE: EOF caught while checking if connectedSMTP Error: Could not authenticate.SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/T"><meta name="twitter:image" content="http://delme-bat.github.io/2018/05/21/bug/1.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Muse",sidebar:{position:"left",display:"post",offset:12,offset_float:12,b2t:!1,scrollpercent:!1,onmobile:!1},fancybox:!0,tabs:!0,motion:!0,duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://delme-bat.github.io/2018/05/21/bug/"><title>持续更新遇到的Bug及需求 | Delme-bat's blog</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Delme-bat's blog</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">风吹动窗吹动叶声响,梦在游荡去更远地方,天上的月露出半只角,看地上有个人还睡不着</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-categories"><a href="/categories" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://delme-bat.github.io/2018/05/21/bug/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Delme-bat"><meta itemprop="description" content=""><meta itemprop="image" content="https://avatars1.githubusercontent.com/u/17245762?s=460&v=4"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Delme-bat's blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">持续更新遇到的Bug及需求</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-21T14:27:30+08:00">2018-05-21 </time></span><span class="post-updated">&nbsp; | &nbsp; <i class="fa fa-calendar-check-o"></i> &nbsp;更新于 <time itemprop="dateUpdated" datetime="2018-07-20T11:03:22+08:00" content="2018-07-20">2018-07-20 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Bug/" itemprop="url" rel="index"><span itemprop="name">Bug</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="MantisBT配置邮件出现发不出去的问题"><a href="#MantisBT配置邮件出现发不出去的问题" class="headerlink" title="MantisBT配置邮件出现发不出去的问题"></a>MantisBT配置邮件出现发不出去的问题</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2018-05-15 07:58:48 SMTP NOTICE: EOF caught while checking if connected</span><br><span class="line">SMTP Error: Could not authenticate.</span><br><span class="line">SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting</span><br><span class="line">Mailer Error: SMTP connect() failed. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting</span><br><span class="line">2018-05-15 07:58:48 SERVER -&gt; CLIENT:</span><br></pre></td></tr></table></figure><a id="more"></a><p>解决方法: 在mantisbt/config/config.ini.php(配置好PHPMailer)</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># --- Email Configuration ---</span></span><br><span class="line">$g_phpMailer_method		= PHPMAILER_METHOD_SMTP;  <span class="comment"># or PHPMAILER_METHOD_SMTP, PHPMAILER_METHOD_SENDMAIL</span></span><br><span class="line">$g_smtp_host			= <span class="string">'smtp.qq.com'</span>;	  <span class="comment"># used with PHPMAILER_METHOD_SMTP</span></span><br><span class="line">$g_smtp_port            = <span class="string">'587'</span>;</span><br><span class="line">$g_smtp_username		= <span class="string">'xxx@qq.com'</span>;	  <span class="comment"># used with PHPMAILER_METHOD_SMTP</span></span><br><span class="line">$g_smtp_password		= <span class="string">'password'</span>;	  <span class="comment"># used with PHPMAILER_METHOD_SMTP</span></span><br><span class="line">$g_administrator_email  = <span class="string">'xxx@qq.com'</span>;</span><br><span class="line">$g_webmaster_email      = <span class="string">'xxx@qq.com'</span>;</span><br><span class="line">$g_from_email           = <span class="string">'xxx@qq.com'</span>;	<span class="comment"># the "From: " field in emails</span></span><br><span class="line">$g_return_path_email    = <span class="string">'xxx@qq.com'</span>;	<span class="comment"># the return address for bounced mail</span></span><br><span class="line">$g_from_name			= <span class="string">'Mantis Bug Tracker'</span>;</span><br><span class="line">$g_use_phpMailer = ON;</span><br><span class="line">$g_phpMailer_path = <span class="string">'./library/phpmailer/'</span>;</span><br><span class="line">$g_email_receive_own	= OFF;</span><br><span class="line">$g_email_send_using_cronjob = OFF;</span><br><span class="line">$g_smtp_connection_mode = <span class="string">'tls'</span>;                <span class="comment"># Can be 'ssl' or 'tls'</span></span><br></pre></td></tr></table></figure><h2 id="Hexo相关问题"><a href="#Hexo相关问题" class="headerlink" title="Hexo相关问题"></a>Hexo相关问题</h2><h3 id="加入背景图片"><a href="#加入背景图片" class="headerlink" title="加入背景图片"></a>加入背景图片</h3><p>1.设置站点_config.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span><span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2.安装hexo-asset-image</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>3.加入背景图片,主题目录下(themes\next\source\css\_custom\custom.styl)</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">.header</span> <span class="string">&#123;</span></span><br><span class="line"><span class="attr">  background:</span> <span class="string">url("imageurl");</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><p>4.再重新部署即可</p><h3 id="设置字体颜色及checkbox"><a href="#设置字体颜色及checkbox" class="headerlink" title="设置字体颜色及checkbox"></a>设置字体颜色及checkbox</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">- </span>[x] <span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#A52A2A</span>&gt;</span></span>最近灯光<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="bullet">- </span>[x] <span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#A52A2A</span>&gt;</span></span>灯光呈现<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="bullet">- </span>[ ] <span class="xml"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">#A52A2A</span>&gt;</span></span>绑定设备<span class="xml"><span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br></pre></td></tr></table></figure><ul><li style="list-style:none"><input type="checkbox" checked><font color="#A52A2A">最近灯光</font></li><li style="list-style:none"><input type="checkbox" checked><font color="#A52A2A">灯光呈现</font></li><li style="list-style:none"><input type="checkbox"><font color="#A52A2A">绑定设备</font></li></ul><h3 id="生成时提示highlight出错"><a href="#生成时提示highlight出错" class="headerlink" title="生成时提示highlight出错"></a>生成时提示highlight出错</h3><blockquote><p>TypeError: Cannot set property ‘lastIndex’ of undefined at highlight (..\node_modules\highlight.js\lib\highlight.js:511:35)</p></blockquote><p>更改站点配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">false</span> <span class="comment">#改为false</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br></pre></td></tr></table></figure><h3 id="添加文章更新时间"><a href="#添加文章更新时间" class="headerlink" title="添加文章更新时间"></a>添加文章更新时间</h3><p>1.修改/themes/next/layout/_macro/post.swig文件,在<code>&lt;span class=&quot;post-time&quot;&gt;...&lt;/span&gt;</code>标签后添加</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;%if post.updated and post.updated &gt; post.date%&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-updated"</span>&gt;</span></span><br><span class="line">    &amp;nbsp; | &amp;nbsp; <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-calendar-check-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> &amp;nbsp;&#123;&#123; __('post.updated') &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">time</span> <span class="attr">itemprop</span>=<span class="string">"dateUpdated"</span> <span class="attr">datetime</span>=<span class="string">"&#123;&#123; moment(post.updated).format() &#125;&#125;"</span> <span class="attr">content</span>=<span class="string">"&#123;&#123; date(post.updated, config.date_format) &#125;&#125;"</span>&gt;</span></span><br><span class="line">      &#123;&#123; date(post.updated, config.date_format) &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>2.修改/themes/next/languages/en.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post:</span></span><br><span class="line"><span class="attr">  updated:</span> <span class="string">Updated</span> <span class="string">on</span></span><br></pre></td></tr></table></figure><p>3.如果是中文就更改zh_Hans.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post:</span></span><br><span class="line"><span class="attr">  updated:</span> <span class="string">更新于</span></span><br></pre></td></tr></table></figure><p>4.修改主题配置文件/themes/next/_config.yml，增加一行</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">display_updated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>参考:<a href="https://blog.csdn.net/ganzhilin520/article/details/79053399" target="_blank" rel="noopener">hexo添加文章更新时间</a></p><h3 id="minifier压缩"><a href="#minifier压缩" class="headerlink" title="minifier压缩"></a>minifier压缩</h3><p>1.安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-all-minifier --save</span><br></pre></td></tr></table></figure><p>2.package.json的配置会多出</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">"hexo-all-minifier":</span> <span class="string">"^0.5.2"</span><span class="string">,</span></span><br></pre></td></tr></table></figure><p>3.配置站点_config.yml</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># minifier</span></span><br><span class="line"><span class="attr">all_minifier:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">html_minifier:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  ignore_error:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  exclude:</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">css_minifier:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  exclude:</span> </span><br><span class="line"><span class="bullet">    -</span> <span class="string">'*.min.css'</span></span><br><span class="line"></span><br><span class="line"><span class="attr">js_minifier:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  mangle:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  output:</span></span><br><span class="line"><span class="attr">  compress:</span></span><br><span class="line"><span class="attr">  exclude:</span> </span><br><span class="line"><span class="bullet">    -</span> <span class="string">'*.min.js'</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">image_minifier:</span> </span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span> </span><br><span class="line"><span class="attr">  interlaced:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  multipass:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  optimizationLevel:</span> <span class="number">2</span></span><br><span class="line"><span class="attr">  pngquant:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  progressive:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="搜索功能"><a href="#搜索功能" class="headerlink" title="搜索功能"></a>搜索功能</h3><p>1.安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure><p>2.修改站点配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">  format:</span> <span class="string">html</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><p>3.修改主题配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="表格中换行"><a href="#表格中换行" class="headerlink" title="表格中换行"></a>表格中换行</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="表格宽度调整"><a href="#表格宽度调整" class="headerlink" title="表格宽度调整"></a>表格宽度调整</h3><p>在themes\next\source\css_custom\custom.styl中加入以下代码</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> <span class="selector-tag">th</span><span class="selector-pseudo">:first-of-type</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="华丽丽的分割线"><a href="#华丽丽的分割线" class="headerlink" title="华丽丽的分割线"></a>华丽丽的分割线</h3><p>分割线的语法只需要三个星号<code>*</code>或者三个小短线<code>-</code>号</p><hr><h3 id="提交谷歌搜索"><a href="#提交谷歌搜索" class="headerlink" title="提交谷歌搜索"></a>提交谷歌搜索</h3><p>1.安装插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br></pre></td></tr></table></figure><p>2.修改站点配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line"><span class="attr">    path:</span> <span class="string">sitemap.xml</span></span><br></pre></td></tr></table></figure><p>3.source目录下新建robots.txt,内容如下:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line"></span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /categories/</span><br><span class="line">Allow: /tags/</span><br><span class="line"></span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /fancybox/</span><br><span class="line"></span><br><span class="line">Sitemap: http://username.github.io/sitemap.xml</span><br></pre></td></tr></table></figure><p>4.重新发布</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean &amp; hexo g &amp; hexo d</span><br></pre></td></tr></table></figure><p>5.注册账号,添加域名</p><p><a href="https://www.google.com/webmasters/" target="_blank" rel="noopener">Google 网站站长</a></p><p>6.测试robots.txt</p><p>点击左侧抓取 &gt; robots.txt测试工具,若提示0错误则OK</p><p>7.提交站点地图</p><p>点击左侧抓取 &gt; 站点地图,右上角添加/测试站点地图</p><p>输入sitemap.xml,先点测试，如果没问题的话，再提交。</p><h3 id="集成一言"><a href="#集成一言" class="headerlink" title="集成一言"></a>集成一言</h3><p>修改<code>themes\next\layout\_layout.swig</code>,在<code>&lt;/body&gt;</code>前加入:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    $(function()&#123;</span></span><br><span class="line"><span class="undefined">        $.get('https://v1.hitokoto.cn/?encode=json&amp;charset=utf-8',function(data)&#123;</span></span><br><span class="line"><span class="undefined">            if(data.type == "f" || data.type == "e")&#123;</span></span><br><span class="line"><span class="undefined">                $('.site-subtitle').html(data.hitokoto)</span></span><br><span class="line"><span class="undefined">            &#125;else&#123;</span></span><br><span class="line"><span class="undefined">                $('.site-subtitle').html(data.hitokoto + " - " + data.from)</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这样会导致站点subtitle配置无效</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Delme-bat's</span> <span class="string">blog</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">风吹动窗吹动叶声响,梦在游荡去更远地方,天上的月露出半只角,看地上有个人还睡不着</span></span><br></pre></td></tr></table></figure><p>参考:<a href="https://hitokoto.cn/api" target="_blank" rel="noopener">一言网 Api 接口说明</a></p><h3 id="嵌入视频"><a href="#嵌入视频" class="headerlink" title="嵌入视频"></a>嵌入视频</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">video</span> <span class="attr">height</span>=<span class="string">"450"</span> <span class="attr">width</span>=<span class="string">"800"</span> <span class="attr">src</span>=<span class="string">"https://material.io/design/assets/1NulZoBoZiguk5YAo74aNIR-mRGPmxjSV/materialshadow-do.mp4"</span> <span class="attr">controls</span>=<span class="string">"controls"</span>&gt;</span></span><br><span class="line">    your browser does not support the video tag</span><br><span class="line">    <span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Material surfaces at different elevations cast shadows.</p><center><br><video height="450" width="800" src="https://material.io/design/assets/1NulZoBoZiguk5YAo74aNIR-mRGPmxjSV/materialshadow-do.mp4" controls><br>your browser does not support the video tag<br></video><br></center><p>视频来源:<a href="https://material.io/design/environment/surfaces.html#properties" target="_blank" rel="noopener">https://material.io/design/environment/surfaces.html#properties</a></p><h2 id="Java相关问题"><a href="#Java相关问题" class="headerlink" title="Java相关问题"></a>Java相关问题</h2><h3 id="修饰符顺序声明"><a href="#修饰符顺序声明" class="headerlink" title="修饰符顺序声明"></a>修饰符顺序声明</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">The Java Language Specification recommends listing modifiers in the following order:</span><br><span class="line"></span><br><span class="line">1. Annotations</span><br><span class="line"></span><br><span class="line">2. public</span><br><span class="line"></span><br><span class="line">3. protected</span><br><span class="line"></span><br><span class="line">4. private</span><br><span class="line"></span><br><span class="line">5. abstract</span><br><span class="line"></span><br><span class="line">6. static</span><br><span class="line"></span><br><span class="line">7. final</span><br><span class="line"></span><br><span class="line">8. transient</span><br><span class="line"></span><br><span class="line">9. volatile</span><br><span class="line"></span><br><span class="line">10. synchronized</span><br><span class="line"></span><br><span class="line">11. native</span><br><span class="line"></span><br><span class="line">12. strictfp</span><br></pre></td></tr></table></figure><h3 id="gson库json设置别名"><a href="#gson库json设置别名" class="headerlink" title="gson库json设置别名"></a>gson库json设置别名</h3><p>com.google.code.gson:gson:2.8.0</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@SerializedName(&quot;original_title&quot;)</span><br><span class="line">private String originalTitle;</span><br></pre></td></tr></table></figure><h3 id="tomcat-manager-显示403"><a href="#tomcat-manager-显示403" class="headerlink" title="tomcat manager 显示403"></a>tomcat manager 显示403</h3><p>修改<code>conf/Catalina/localhost/manager.xml</code></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">privileged</span>=<span class="string">"true"</span> <span class="attr">antiResourceLocking</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">docBase</span>=<span class="string">"$&#123;catalina.home&#125;/webapps/manager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.valves.RemoteAddrValve"</span> <span class="attr">allow</span>=<span class="string">"^.*$"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Android相关问题"><a href="#Android相关问题" class="headerlink" title="Android相关问题"></a>Android相关问题</h2><h3 id="查看CPU信息"><a href="#查看CPU信息" class="headerlink" title="查看CPU信息"></a>查看CPU信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat /proc/cpuinfo</span><br></pre></td></tr></table></figure><h3 id="使用命令安装应用"><a href="#使用命令安装应用" class="headerlink" title="使用命令安装应用"></a>使用命令安装应用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">adb uninstall 包名</span><br><span class="line">adb install F:\app-release.apk</span><br></pre></td></tr></table></figure><h3 id="RecycleView一行多列显示"><a href="#RecycleView一行多列显示" class="headerlink" title="RecycleView一行多列显示"></a>RecycleView一行多列显示</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GridLayoutManager gridLayoutManager = <span class="keyword">new</span> GridLayoutManager(mContext,<span class="number">3</span>);</span><br><span class="line">mRecyclerView.setLayoutManager(gridLayoutManager);</span><br></pre></td></tr></table></figure><h3 id="ImageView-ScaleType"><a href="#ImageView-ScaleType" class="headerlink" title="ImageView.ScaleType"></a>ImageView.ScaleType</h3><table><thead><tr><th style="text-align:left">EnumValues</th><th style="text-align:left">Description</th></tr></thead><tbody><tr><td style="text-align:left"><font color="#039be5">CENTER</font></td><td style="text-align:left">Center the image in the view, but perform no scaling.</td></tr><tr><td style="text-align:left"><font color="#039be5">CENTER_CROP</font></td><td style="text-align:left">Scale the image uniformly (maintain the image’s aspect ratio) so that both dimensions (width and height) of the image will be equal to or larger than the corresponding dimension of the view (minus padding).</td></tr><tr><td style="text-align:left"><font color="#039be5">CENTER_INSIDE</font></td><td style="text-align:left">Scale the image uniformly (maintain the image’s aspect ratio) so that both dimensions (width and height) of the image will be equal to or less than the corresponding dimension of the view (minus padding).</td></tr><tr><td style="text-align:left"><font color="#039be5">FIT_CENTER</font></td><td style="text-align:left">Scale the image using <a href="https://developer.android.com/reference/android/graphics/Matrix.ScaleToFit.html#CENTER" target="_blank" rel="noopener">Matrix.ScaleToFit.CENTER</a></td></tr><tr><td style="text-align:left"><font color="#039be5">FIT_END</font></td><td style="text-align:left">Scale the image using <a href="https://developer.android.com/reference/android/graphics/Matrix.ScaleToFit.html#END" target="_blank" rel="noopener">Matrix.ScaleToFit.END</a>.</td></tr><tr><td style="text-align:left"><font color="#039be5">FIT_START</font></td><td style="text-align:left">Scale the image using <a href="https://developer.android.com/reference/android/graphics/Matrix.ScaleToFit.html#START" target="_blank" rel="noopener">Matrix.ScaleToFit.START</a>.</td></tr><tr><td style="text-align:left"><font color="#039be5">FIT_XY</font></td><td style="text-align:left">Scale the image using <a href="https://developer.android.com/reference/android/graphics/Matrix.ScaleToFit.html#FILL" target="_blank" rel="noopener">Matrix.ScaleToFit.FILL</a>.</td></tr><tr><td style="text-align:left"><font color="#039be5">MATRIX</font></td><td style="text-align:left">Scale using the image matrix when drawing.</td></tr></tbody></table><p><a href="https://developer.android.com/reference/android/widget/ImageView.ScaleType" target="_blank" rel="noopener">https://developer.android.com/reference/android/widget/ImageView.ScaleType</a></p><h3 id="gradle-build-scan"><a href="#gradle-build-scan" class="headerlink" title="gradle build scan"></a>gradle build scan</h3><p>将构建扫描发布到scans.gradle.com 将此数据传输到Gradle的服务器。</p><p>在Terminal窗口输入<code>gradlew build --scan</code></p><p><img src="/2018/05/21/bug/1.png" alt="build scan"></p><p>打开链接,提示输入邮箱验证.</p><p><a href="https://scans.gradle.com/" target="_blank" rel="noopener">https://scans.gradle.com/</a></p><h3 id="Spinner-设置字体颜色"><a href="#Spinner-设置字体颜色" class="headerlink" title="Spinner 设置字体颜色"></a>Spinner 设置字体颜色</h3><p>定义spinner_item.xml:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">TextView</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:textSize</span>=<span class="string">"20sp"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:gravity</span>=<span class="string">"left"</span>  </span></span><br><span class="line"><span class="tag">    <span class="attr">android:textColor</span>=<span class="string">"#FF0000"</span>         </span></span><br><span class="line"><span class="tag">    <span class="attr">android:padding</span>=<span class="string">"5dip"</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br></pre></td></tr></table></figure><p>代码中使用:<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Spinner spinner = view_custom.findViewById(R.id.spi_change_sth);</span><br><span class="line">ArrayAdapter&lt;CharSequence&gt; adapter = ArrayAdapter.createFromResource(activity,</span><br><span class="line">            R.array.change_sth,</span><br><span class="line">            R.layout.spinner_change_sth);</span><br><span class="line">adapter.setDropDownViewResource(android.R.layout.spinner_item);</span><br><span class="line">spinner.setAdapter(adapter);</span><br></pre></td></tr></table></figure><p></p><p>参考:<a href="https://stackoverflow.com/questions/4880413/text-color-of-a-closed-spinner" target="_blank" rel="noopener">https://stackoverflow.com/questions/4880413/text-color-of-a-closed-spinner</a></p><h3 id="ProgressBar设置颜色"><a href="#ProgressBar设置颜色" class="headerlink" title="ProgressBar设置颜色"></a>ProgressBar设置颜色</h3><p>drawable/progress_bar.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="tag">&lt;<span class="name">layer-list</span> <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/background"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"5dip"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:centerColor</span>=<span class="string">"@color/colorProgressBg"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:endColor</span>=<span class="string">"@color/colorProgressBg"</span></span></span><br><span class="line"><span class="tag">                <span class="attr">android:startColor</span>=<span class="string">"@color/colorProgressBg"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:id</span>=<span class="string">"@android:id/progress"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">clip</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">shape</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">corners</span> <span class="attr">android:radius</span>=<span class="string">"5dip"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">gradient</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:endColor</span>=<span class="string">"@color/colorProgress"</span></span></span><br><span class="line"><span class="tag">                    <span class="attr">android:startColor</span>=<span class="string">"@color/colorProgress"</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">shape</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">clip</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">layer-list</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ProgressBar:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">    android:id=&quot;@+id/pb_loading&quot;</span><br><span class="line">    style=&quot;?android:attr/progressBarStyleHorizontal&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;3dp&quot;</span><br><span class="line">    android:max=&quot;100&quot;</span><br><span class="line">    android:progressDrawable=&quot;@drawable/progress_bar&quot;/&gt;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://stackoverflow.com/questions/18800290/how-to-change-progressbar-color" target="_blank" rel="noopener">https://stackoverflow.com/questions/18800290/how-to-change-progressbar-color</a></p><h3 id="Toolbar中PopuMenu菜单显示位置"><a href="#Toolbar中PopuMenu菜单显示位置" class="headerlink" title="Toolbar中PopuMenu菜单显示位置"></a>Toolbar中PopuMenu菜单显示位置</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"AppTheme"</span> <span class="attr">parent</span>=<span class="string">"AppTheme.Base"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">		<span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"actionOverflowMenuStyle"</span>&gt;</span>@style/OverflowMenuStyle<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="undefined">	</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">"OverflowMenuStyle"</span> <span class="attr">parent</span>=<span class="string">"Widget.AppCompat.PopupMenu.Overflow"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">"overlapAnchor"</span>&gt;</span>false<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="修改Toolbar右上角三个圆点的颜色"><a href="#修改Toolbar右上角三个圆点的颜色" class="headerlink" title="修改Toolbar右上角三个圆点的颜色"></a>修改Toolbar右上角三个圆点的颜色</h3><p>1.第一种方式,修改android:textColorSecondary,辅助的文字颜色.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;resources&gt;</span><br><span class="line">	&lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Base&quot;&gt;</span><br><span class="line">		 &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/colorTextSecondary&lt;/item&gt;</span><br><span class="line">	&lt;/style&gt;</span><br><span class="line">&lt;/resources&gt;</span><br></pre></td></tr></table></figure><p>2.推荐的方式,修改actionOverflowButtonStyle.<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;AppTheme&quot; parent=&quot;AppTheme.Base&quot;&gt;</span><br><span class="line">	&lt;item name=&quot;actionOverflowButtonStyle&quot;&gt;@style/OverflowButtonStyle&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=&quot;OverflowButtonStyle&quot; parent=&quot;android:style/Widget.Holo.Light.ActionButton.Overflow&quot;&gt;</span><br><span class="line">	&lt;item name=&quot;android:src&quot;&gt;@drawable/ic_more_vert_white_24dp&lt;/item&gt;</span><br><span class="line">	&lt;item name=&quot;android:background&quot;&gt;?android:attr/actionBarItemBackground&lt;/item&gt;</span><br><span class="line">	&lt;item name=&quot;android:contentDescription&quot;&gt;@null&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p></p><h3 id="设置debug签名信息"><a href="#设置debug签名信息" class="headerlink" title="设置debug签名信息"></a>设置debug签名信息</h3><p>在模块的 build.gradle中设置</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line"></span><br><span class="line">    signingConfigs &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            keyAlias <span class="string">'keyAlias'</span></span><br><span class="line">            keyPassword <span class="string">'android'</span></span><br><span class="line">            storePassword <span class="string">'android'</span></span><br><span class="line">            storeFile <span class="keyword">file</span>(<span class="string">'F:/key.keystore'</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            minifyEnabled <span class="keyword">false</span></span><br><span class="line">            proguardFiles getDefaultProguardFile(<span class="string">'proguard-android.txt'</span>), <span class="string">'proguard-rules.pro'</span></span><br><span class="line"></span><br><span class="line">            debuggable <span class="keyword">true</span></span><br><span class="line">            signingConfig signingConfigs.release</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        debug &#123;</span><br><span class="line">            signingConfig signingConfigs.release</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果团队协作开发或者将代码开源，那么应当将此敏感信息从构建文件中移出，以免被其他人轻易获取。</p><p>1.在项目的根目录下创建一个名为 keystore.properties 的文件。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">storePassword=myStorePassword</span><br><span class="line">keyPassword=mykeyPassword</span><br><span class="line">keyAlias=myKeyAlias</span><br><span class="line">storeFile=myStoreFileLocation</span><br></pre></td></tr></table></figure><p>2.在模块的 build.gradle 文件中，于 android {} 块的前面添加用于加载 keystore.properties 文件的代码</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create a variable called keystorePropertiesFile, and initialize it to your</span></span><br><span class="line"><span class="comment">// keystore.properties file, in the rootProject folder.</span></span><br><span class="line"><span class="keyword">def</span> keystorePropertiesFile = rootProject.<span class="keyword">file</span>(<span class="string">"keystore.properties"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize a new Properties() object called keystoreProperties.</span></span><br><span class="line"><span class="keyword">def</span> keystoreProperties = <span class="keyword">new</span> Properties()</span><br><span class="line"></span><br><span class="line"><span class="comment">// Load your keystore.properties file into the keystoreProperties object.</span></span><br><span class="line">keystoreProperties.load(<span class="keyword">new</span> FileInputStream(keystorePropertiesFile))</span><br><span class="line"></span><br><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.修改模块 build.gradle 文件的 signingConfigs 块</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    signingConfigs &#123;</span><br><span class="line">        config &#123;</span><br><span class="line">            keyAlias keystoreProperties[<span class="string">'keyAlias'</span>]</span><br><span class="line">            keyPassword keystoreProperties[<span class="string">'keyPassword'</span>]</span><br><span class="line">            storeFile <span class="keyword">file</span>(keystoreProperties[<span class="string">'storeFile'</span>])</span><br><span class="line">            storePassword keystoreProperties[<span class="string">'storePassword'</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>现在可以将 keystore.properties 从源代码控制系统中移除。</p><p>参考: <a href="https://developer.android.com/studio/publish/app-signing?hl=zh-cn" target="_blank" rel="noopener">签署您的应用 | Android Developers</a></p><h3 id="打开通知授权界面"><a href="#打开通知授权界面" class="headerlink" title="打开通知授权界面"></a>打开通知授权界面</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Intent intent = <span class="keyword">new</span> Intent(<span class="string">"android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS"</span>);</span><br><span class="line">startActivity(intent);</span><br></pre></td></tr></table></figure><h3 id="FlycoTabLayout设置未读数量-位置有偏差"><a href="#FlycoTabLayout设置未读数量-位置有偏差" class="headerlink" title="FlycoTabLayout设置未读数量,位置有偏差"></a>FlycoTabLayout设置未读数量,位置有偏差</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">int tabCount = 3;</span><br><span class="line"></span><br><span class="line">DisplayMetrics dm = getResources().getDisplayMetrics();</span><br><span class="line">float tabWidth = dm.widthPixels / dm.density / tabCount;</span><br><span class="line"></span><br><span class="line">mTabLayout.setTabWidth(tabWidth);</span><br><span class="line">mTabLayout.setTabPadding(0);</span><br><span class="line"></span><br><span class="line">mTabLayout.showMsg(0, 100);</span><br><span class="line">mTabLayout.setMsgMargin(0, 5, 5);</span><br><span class="line"></span><br><span class="line">mTabLayout.showMsg(1, 100);</span><br><span class="line">mTabLayout.setMsgMargin(1, 5, 5);</span><br><span class="line"></span><br><span class="line">mTabLayout.showMsg(2, 100);</span><br><span class="line">mTabLayout.setMsgMargin(2, 5, 5);</span><br></pre></td></tr></table></figure><p>参考:<a href="https://github.com/H07000223/FlycoTabLayout/issues/24" target="_blank" rel="noopener">https://github.com/H07000223/FlycoTabLayout/issues/24</a></p><h3 id="androidTest与test包的区别"><a href="#androidTest与test包的区别" class="headerlink" title="androidTest与test包的区别"></a>androidTest与test包的区别</h3><p>本地单元测试(src/test/java)</p><blockquote><p>这些测试在计算机的本地 Java 虚拟机 (JVM) 上运行。 当您的测试没有 Android 框架依赖项或当您可以模拟 Android 框架依赖项时，可以利用这些测试来尽量缩短执行时间。</p></blockquote><p>仪器测试(src/androidTest/java)</p><blockquote><p>这些测试在硬件设备或模拟器上运行。 这些测试有权访问 Instrumentation API，让您可以获取某些信息（例如您要测试的应用的 Context）， 并且允许您通过测试代码来控制受测应用。 可以在编写集成和功能 UI 测试来自动化用户交互时，或者在测试具有模拟对象无法满足的 Android 依赖项时使用这些测试。</p></blockquote><p>来源: <a href="https://developer.android.com/studio/test/" target="_blank" rel="noopener">https://developer.android.com/studio/test/</a></p><h3 id="Google-Play商店更新应用-包名已更改"><a href="#Google-Play商店更新应用-包名已更改" class="headerlink" title="Google Play商店更新应用(包名已更改)"></a>Google Play商店更新应用(包名已更改)</h3><p>只能取消发布,再创建新应用(并且之前的不能删除掉,因为Google支持用户无限制下载)</p><h3 id="Google-Play商店上架提示-您上传了可调试的APK或Android-App-Bundle"><a href="#Google-Play商店上架提示-您上传了可调试的APK或Android-App-Bundle" class="headerlink" title="Google Play商店上架提示,您上传了可调试的APK或Android App Bundle."></a>Google Play商店上架提示,您上传了可调试的APK或Android App Bundle.</h3><blockquote><p>您上传了可调试的 APK 或 Android App Bundle。出于安全考虑，您需要先停用 APK 或 Android App Bundle 的调试功能，然后才能在 Google Play 中进行发布。<a href="https://developer.android.com/studio/publish/preparing.html#publishing-configure" target="_blank" rel="noopener">详细了解可调试的 APK 或 Android App Bundle</a>。</p></blockquote><p>1.左下角 Build Variants 修改模式为 release</p><p><img src="/2018/05/21/bug/2.png" alt="Build Variants"></p><p>2.gradle 中修改 debuggable 为 false</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line"></span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            debuggable <span class="keyword">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.Build &gt; Generate Signed APK &gt; 重新签名打包</p><p>参考:<a href="https://www.jianshu.com/p/8cfa6a619cf2" target="_blank" rel="noopener">APK上传到play.google - 您上传了可调试的APK错误</a></p><h3 id="Google-Play商店上架提示-请将应用的最低目标API级别调整为26"><a href="#Google-Play商店上架提示-请将应用的最低目标API级别调整为26" class="headerlink" title="Google Play商店上架提示,请将应用的最低目标API级别调整为26."></a>Google Play商店上架提示,请将应用的最低目标API级别调整为26.</h3><blockquote><p>警告<br>您的应用目前的目标 API 级别为 19，请将应用的最低目标 API 级别调整为 26，以确保应用基于最新 API 而构建，让安全性和性能达到最佳状态。<br><br>自 2018 年 8 月起，新应用的指定目标至少必须是 Android 8.0（API 级别 26）。<br>自 2018 年 11 月起，应用更新的指定目标必须是 Android 8.0（API 级别 26）。<br><br>提示： 更改应用的目标 API 级别。<a href="https://developer.android.com/distribute/best-practices/develop/target-sdk.html" target="_blank" rel="noopener">了解详情</a>。</p></blockquote><p>将targetSdkVersion 改为26</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        targetSdkVersion <span class="number">26</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://developer.android.com/distribute/best-practices/develop/target-sdk" target="_blank" rel="noopener">Google Play 目标 API 等级（targetSdkVersion）重要变更要求</a></p><h3 id="Android8-0开启热点"><a href="#Android8-0开启热点" class="headerlink" title="Android8.0开启热点"></a>Android8.0开启热点</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Build;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WifiUtil</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">turnWifiApOn</span><span class="params">(WifiManager mWifiManager)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) &#123;</span><br><span class="line">            turnOnHotspot(mWifiManager);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@RequiresApi</span>(api = Build.VERSION_CODES.O)</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">turnOnHotspot</span><span class="params">(WifiManager mWifiManager)</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">        mWifiManager.startLocalOnlyHotspot(<span class="keyword">new</span> WifiManager.LocalOnlyHotspotCallback() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStarted</span><span class="params">(WifiManager.LocalOnlyHotspotReservation reservation)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onStarted(reservation);</span><br><span class="line">                mReservation = reservation;</span><br><span class="line">            &#125;</span><br><span class="line">    </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onStopped</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onStopped();</span><br><span class="line">            &#125;</span><br><span class="line">    </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onFailed</span><span class="params">(<span class="keyword">int</span> reason)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onFailed(reason);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="keyword">new</span> Handler());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>目前会回调onStarted,onStopped和onFailed,但是开启的热点搜不到.需要手动开启热点</p><h3 id="Android8-0获取热点信息失败"><a href="#Android8-0获取热点信息失败" class="headerlink" title="Android8.0获取热点信息失败"></a>Android8.0获取热点信息失败</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">W/System.err: java.lang.reflect.InvocationTargetException</span><br><span class="line">W/System.err:     at java.lang.reflect.Method.invoke(Native Method)</span><br><span class="line">W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:108)</span><br><span class="line">W/System.err:     at android.os.Looper.loop(Looper.java:166)</span><br><span class="line">W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:7425)</span><br><span class="line">W/System.err:     at java.lang.reflect.Method.invoke(Native Method)</span><br><span class="line">W/System.err:     at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)</span><br><span class="line">W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)</span><br><span class="line">W/System.err: Caused by: java.lang.SecurityException: App not allowed to read or update stored WiFi Ap config (uid = 10185)</span><br><span class="line">W/System.err:     at android.os.Parcel.readException(Parcel.java:1945)</span><br><span class="line">W/System.err:     at android.os.Parcel.readException(Parcel.java:1891)</span><br><span class="line">W/System.err:     at android.net.wifi.IWifiManager$Stub$Proxy.getWifiApConfiguration(IWifiManager.java:1792)</span><br><span class="line">W/System.err:     at android.net.wifi.WifiManager.getWifiApConfiguration(WifiManager.java:2153)</span><br><span class="line">W/System.err: 	... 9 more</span><br></pre></td></tr></table></figure><p>暂无解决方法</p><h3 id="资源文件中出现百分号处理"><a href="#资源文件中出现百分号处理" class="headerlink" title="资源文件中出现百分号处理"></a>资源文件中出现百分号处理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">java.util.UnknownFormatConversionException: Conversion = &apos;End of String&apos;</span><br><span class="line">    at java.util.Formatter$FormatSpecifierParser.peek(Formatter.java:2608)</span><br><span class="line">    at java.util.Formatter$FormatSpecifierParser.&lt;init&gt;(Formatter.java:2569)</span><br><span class="line">    at java.util.Formatter.parse(Formatter.java:2524)</span><br><span class="line">    at java.util.Formatter.format(Formatter.java:2472)</span><br><span class="line">    at java.util.Formatter.format(Formatter.java:2426)</span><br><span class="line">    at java.lang.String.format(String.java:2626)</span><br></pre></td></tr></table></figure><p>xml中的配置,需要显示为正在下载 : 11%<br></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"notify_updating_text"</span>&gt;</span>正在下载&amp;#160;:&amp;#160;%1$d%<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>用%%来表示1个%</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">string</span> <span class="attr">name</span>=<span class="string">"notify_updating_text"</span>&gt;</span>正在下载&amp;#160;:&amp;#160;%1$d%%<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br></pre></td></tr></table></figure><p>参考:<a href="https://blog.csdn.net/brokge/article/details/38339149" target="_blank" rel="noopener">关于Android资源文件中出现百分号的问题</a></p><h3 id="重复的包"><a href="#重复的包" class="headerlink" title="重复的包"></a>重复的包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Error:Execution failed for task &apos;:app:transformClassesWithJarMergingForRelease&apos;.</span><br><span class="line">  &gt; com.android.build.api.transform.TransformException: java.util.zip.ZipException: duplicate entry: org/apache/http/conn/ConnectTimeoutException.class</span><br></pre></td></tr></table></figure><p>使用如下命令查看 Dependencies 依赖关系:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath</span><br></pre></td></tr></table></figure><p>分析项目依赖:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">D:\Android\MarkDown&gt;gradlew -q dependencies app:dependencies --configuration debugAndroidTestCompileClasspath</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line">Root project</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">No configurations</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------</span><br><span class="line">Project :app</span><br><span class="line">------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">debugAndroidTestCompileClasspath - Resolved configuration for compilation for variant: debugAndroidTest</span><br><span class="line">+--- com.android.support.test:runner:1.0.2</span><br><span class="line">|    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    +--- com.android.support.test:monitor:1.0.2</span><br><span class="line">|    |    \--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    +--- junit:junit:4.12</span><br><span class="line">|    |    \--- org.hamcrest:hamcrest-core:1.3</span><br><span class="line">|    \--- net.sf.kxml:kxml2:2.3.0</span><br><span class="line">+--- com.android.support.test.espresso:espresso-core:3.0.2</span><br><span class="line">|    +--- com.android.support.test:runner:1.0.2 (*)</span><br><span class="line">|    +--- com.android.support.test.espresso:espresso-idling-resource:3.0.2</span><br><span class="line">|    +--- com.squareup:javawriter:2.1.1</span><br><span class="line">|    +--- javax.inject:javax.inject:1</span><br><span class="line">|    +--- org.hamcrest:hamcrest-library:1.3</span><br><span class="line">|    |    \--- org.hamcrest:hamcrest-core:1.3</span><br><span class="line">|    +--- org.hamcrest:hamcrest-integration:1.3</span><br><span class="line">|    |    \--- org.hamcrest:hamcrest-library:1.3 (*)</span><br><span class="line">|    \--- com.google.code.findbugs:jsr305:2.0.1</span><br><span class="line">+--- com.android.support:appcompat-v7:27.1.1</span><br><span class="line">|    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    +--- com.android.support:support-core-utils:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    \--- com.android.support:support-compat:27.1.1</span><br><span class="line">|    |         +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |         \--- android.arch.lifecycle:runtime:1.1.0</span><br><span class="line">|    |              +--- android.arch.lifecycle:common:1.1.0</span><br><span class="line">|    |              \--- android.arch.core:common:1.1.0</span><br><span class="line">|    +--- com.android.support:support-fragment:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-core-ui:27.1.1</span><br><span class="line">|    |    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    |    +--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    |    |    \--- com.android.support:support-core-utils:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-core-utils:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    +--- android.arch.lifecycle:livedata-core:1.1.0</span><br><span class="line">|    |    |    +--- android.arch.lifecycle:common:1.1.0</span><br><span class="line">|    |    |    +--- android.arch.core:common:1.1.0</span><br><span class="line">|    |    |    \--- android.arch.core:runtime:1.1.0</span><br><span class="line">|    |    |         \--- android.arch.core:common:1.1.0</span><br><span class="line">|    |    \--- android.arch.lifecycle:viewmodel:1.1.0</span><br><span class="line">|    +--- com.android.support:support-vector-drawable:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    \--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    \--- com.android.support:animated-vector-drawable:27.1.1</span><br><span class="line">|         +--- com.android.support:support-vector-drawable:27.1.1 (*)</span><br><span class="line">|         \--- com.android.support:support-core-ui:27.1.1 (*)</span><br><span class="line">+--- com.android.support:design:27.1.1</span><br><span class="line">|    +--- com.android.support:support-v4:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-media-compat:27.1.1</span><br><span class="line">|    |    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    |    \--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-core-utils:27.1.1 (*)</span><br><span class="line">|    |    +--- com.android.support:support-core-ui:27.1.1 (*)</span><br><span class="line">|    |    \--- com.android.support:support-fragment:27.1.1 (*)</span><br><span class="line">|    +--- com.android.support:appcompat-v7:27.1.1 (*)</span><br><span class="line">|    +--- com.android.support:recyclerview-v7:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|    |    +--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">|    |    \--- com.android.support:support-core-ui:27.1.1 (*)</span><br><span class="line">|    \--- com.android.support:transition:27.1.1</span><br><span class="line">|         +--- com.android.support:support-annotations:27.1.1</span><br><span class="line">|         \--- com.android.support:support-compat:27.1.1 (*)</span><br><span class="line">\--- com.android.support:support-annotations:27.1.1</span><br><span class="line"></span><br><span class="line">(*) - dependencies omitted (listed previously)</span><br></pre></td></tr></table></figure><p>找出重复的包,再exclude掉</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">implementation(&apos;com.squareup.retrofit2:converter-simplexml:&apos; + rootProject.retrofit2Version) &#123;</span><br><span class="line">    exclude module: &apos;stax-api&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="http://www.paincker.com/gradle-dependencies" target="_blank" rel="noopener">http://www.paincker.com/gradle-dependencies</a></p><h3 id="Could-not-find-class-‘com-facebook-LoggingBehavior-’"><a href="#Could-not-find-class-‘com-facebook-LoggingBehavior-’" class="headerlink" title="Could not find class ‘com.facebook.LoggingBehavior[]’"></a>Could not find class ‘com.facebook.LoggingBehavior[]’</h3><p>接入Facebook应用,debug模式打开异常,应用加上签名就好使了.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">E/dalvikvm: Could not find class &apos;com.facebook.LoggingBehavior[]&apos;, referenced from method com.facebook.FacebookSdk.&lt;clinit&gt;</span><br><span class="line">W/dalvikvm: VFY: unable to resolve new-array 3830 ([Lcom/facebook/LoggingBehavior;) in Lcom/facebook/FacebookSdk;</span><br><span class="line">W/dalvikvm: VFY: unable to find class referenced in signature (Lcom/facebook/LoggingBehavior;)</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getApplicationContext</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getApplicationId</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getApplicationName</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getApplicationSignature</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getAutoLogAppEventsEnabled</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getCacheDir</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getCallbackRequestCodeOffset</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getClientToken</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getLimitEventAndDataUsage</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">I/dalvikvm: Could not find method com.facebook.internal.Validate.sdkInitialized, referenced from method com.facebook.FacebookSdk.getOnProgressThreshold</span><br><span class="line">W/dalvikvm: VFY: unable to resolve static method 9237: Lcom/facebook/internal/Validate;.sdkInitialized ()V</span><br><span class="line">W/dalvikvm: VFY: unable to find class referenced in signature (Lcom/facebook/LoggingBehavior;)</span><br></pre></td></tr></table></figure><h3 id="Execution-failed-for-task-‘-app-transformClassesWithInstantRunForDebug’"><a href="#Execution-failed-for-task-‘-app-transformClassesWithInstantRunForDebug’" class="headerlink" title="Execution failed for task ‘:app:transformClassesWithInstantRunForDebug’"></a>Execution failed for task ‘:app:transformClassesWithInstantRunForDebug’</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Execution failed for task &apos;:app:transformClassesWithInstantRunForDebug&apos;</span><br><span class="line"> &gt; Failed to find byte code for android/net/wifi/WifiManager$LocalOnlyHotspotCallback</span><br></pre></td></tr></table></figure><p>解决方法:打开File &gt; Settings &gt; Build,Execution,Deployment &gt; Instant Run</p><p>去掉勾选Enable Instant Run to hot swap code/resource changes on deploy(default enabled)</p><p>参考:<a href="https://blog.csdn.net/student9128/article/details/53026990" target="_blank" rel="noopener">Error:Execution failed for task :app:transformClassesWithInstantRunForDebug解决方案</a></p><h3 id="NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法"><a href="#NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法" class="headerlink" title="NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法"></a>NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">recyclerView.setNestedScrollingEnabled(<span class="keyword">false</span>);</span><br></pre></td></tr></table></figure><p>参考:<a href="http://blog.csdn.net/u010839880/article/details/52672489" target="_blank" rel="noopener">NestedScrollView嵌套RecyclerView时滑动不流畅</a></p><h3 id="Glide加载图片出错"><a href="#Glide加载图片出错" class="headerlink" title="Glide加载图片出错"></a>Glide加载图片出错</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java.lang.OutOfMemoryError: Failed to allocate a 31961100 byte allocation with 16777216 free bytes and 20MB until OOM, max allowed footprint 129449656, growth limit 134217728</span><br><span class="line">java.io.FileNotFoundException: No content provider: http://xxx/xxx.jpg</span><br></pre></td></tr></table></figure><p>解决方法:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Glide.with(context)</span><br><span class="line">        .load(url)</span><br><span class="line">        .listener(new RequestListener&lt;Drawable&gt;()&#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) &#123;</span><br><span class="line">                handler.post(new Runnable() &#123;</span><br><span class="line">                    @Override</span><br><span class="line">                    public void run() &#123;</span><br><span class="line">                        Glide.with(context)</span><br><span class="line">                                .load(url)</span><br><span class="line">                                .into(iv);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) &#123;</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">  .into(iv);</span><br></pre></td></tr></table></figure><p></p><p>Generic advice here: <a href="https://bumptech.github.io/glide/doc/debugging.html#out-of-memory-errors" target="_blank" rel="noopener">https://bumptech.github.io/glide/doc/debugging.html#out-of-memory-errors</a></p><h3 id="Could-not-find-android-arch-core-common-1-1-0"><a href="#Could-not-find-android-arch-core-common-1-1-0" class="headerlink" title="Could not find android.arch.core:common:1.1.0"></a>Could not find android.arch.core:common:1.1.0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Error:FAILURE: Build failed with an exception.</span><br><span class="line"></span><br><span class="line">* What went wrong:</span><br><span class="line">Could not resolve all files for configuration &apos;:mobile:debugAndroidTestRuntimeClasspath&apos;.</span><br><span class="line">&gt; Could not find common.jar (android.arch.core:common:1.1.0).</span><br><span class="line">  Searched in the following locations:</span><br><span class="line">      https://jcenter.bintray.com/android/arch/core/common/1.1.0/common-1.1.0.jar</span><br><span class="line"></span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</span><br><span class="line"></span><br><span class="line">* Get more help at https://help.gradle.org</span><br><span class="line"></span><br><span class="line">BUILD FAILED in 19s</span><br></pre></td></tr></table></figure><p>解决方法:</p><p>项目根目录调整仓库位置google()在前</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">        maven&#123;url <span class="string">'https://jitpack.io'</span>&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:3.1.3'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        maven &#123;</span><br><span class="line">            url <span class="string">"https://maven.google.com"</span></span><br><span class="line">        &#125;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Drawable-has-unresolved-theme-attributes"><a href="#Drawable-has-unresolved-theme-attributes" class="headerlink" title="Drawable has unresolved theme attributes!"></a>Drawable has unresolved theme attributes!</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Drawable xxx/ic_navigate_back has unresolved theme attributes! </span><br><span class="line">    Consider using Resources.getDrawable(int, Theme) or Context.getDrawable(int).</span><br></pre></td></tr></table></figure><p>解决方法:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Drawable upArrow = ContextCompat.getDrawable(mContext,R.drawable.ic_navigate_back);</span><br></pre></td></tr></table></figure><p>ContextCompat.getDrawable(Context, int) 代替 getResources().getDrawable(int)</p><p>参考: <a href="https://github.com/afollestad/material-dialogs/issues/1002" target="_blank" rel="noopener">https://github.com/afollestad/material-dialogs/issues/1002</a></p><h3 id="在Fragment中使用StartActivityForResult，RequestCode错乱"><a href="#在Fragment中使用StartActivityForResult，RequestCode错乱" class="headerlink" title="在Fragment中使用StartActivityForResult，RequestCode错乱"></a>在Fragment中使用StartActivityForResult，RequestCode错乱</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">startActivityForResult(intent, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">getActivity().startActivityForResult(intent, <span class="number">1</span>);</span><br></pre></td></tr></table></figure><h3 id="Activity返回刷新界面"><a href="#Activity返回刷新界面" class="headerlink" title="Activity返回刷新界面"></a>Activity返回刷新界面</h3><p>1.startActivityForResult</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="keyword">int</span> REFRESH_RESULT_REQ = <span class="number">101</span>;</span><br><span class="line">  </span><br><span class="line">Intent intent = <span class="keyword">new</span> Intent();</span><br><span class="line">intent.putExtra(<span class="string">"something"</span>, <span class="string">"something"</span>);</span><br><span class="line">intent.setClass(RefreshActivity.<span class="keyword">this</span>, SecondActivity.class);</span><br><span class="line">RefreshActivity.<span class="keyword">this</span>.startActivityForResult(intent, REFRESH_RESULT_REQ);</span><br></pre></td></tr></table></figure><p>2.startActivityForResult回调</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">	<span class="keyword">if</span> (REFRESH_RESULT_REQ == requestCode &amp;&amp; resultCode == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="comment">// do something</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Fragment返回刷新界面"><a href="#Fragment返回刷新界面" class="headerlink" title="Fragment返回刷新界面"></a>Fragment返回刷新界面</h3><p>重写onResume()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onResume</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="keyword">super</span>.onResume();</span><br><span class="line">	<span class="comment">// do something</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Toolbar不能同时显示图片和文字"><a href="#Toolbar不能同时显示图片和文字" class="headerlink" title="Toolbar不能同时显示图片和文字"></a>Toolbar不能同时显示图片和文字</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">boolean</span> <span class="title">onPrepareOptionsPanel</span><span class="params">(View view, Menu menu)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (menu != <span class="keyword">null</span> &amp;&amp; menu.getClass() == MenuBuilder.class) &#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			Method m = menu.getClass().getDeclaredMethod(<span class="string">"setOptionalIconsVisible"</span>, Boolean.TYPE);</span><br><span class="line">			m.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">			m.invoke(menu, <span class="keyword">true</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">			<span class="comment">// print error msg.</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">super</span>.onPrepareOptionsPanel(view, menu);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="xpp3-defines-classes-that-conflict-with-classes-now-provided-by-Android"><a href="#xpp3-defines-classes-that-conflict-with-classes-now-provided-by-Android" class="headerlink" title="xpp3 defines classes that conflict with classes now provided by Android."></a>xpp3 defines classes that conflict with classes now provided by Android.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Error:Error: xpp3 defines classes that conflict with classes now provided by Android. </span><br><span class="line">Solutions include finding newer versions or alternative libraries that don&apos;t have the same problem </span><br><span class="line">(for example, for httpclient use HttpUrlConnection or okhttp instead), or repackaging the library using something like jarjar. [DuplicatePlatformClasses]</span><br></pre></td></tr></table></figure><p>解决方法:在app/build.gradle中添加</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">configurations</span> &#123;</span><br><span class="line">        all &#123;</span><br><span class="line">            <span class="keyword">exclude</span> <span class="keyword">group</span>: <span class="string">'xpp3'</span>, module: <span class="string">'xpp3'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://stackoverflow.com/questions/48488563/gradle-xpp3-error" target="_blank" rel="noopener">https://stackoverflow.com/questions/48488563/gradle-xpp3-error</a></p><h3 id="Trouble-processing-“javax-xml-XMLConstants-class”-in-Android"><a href="#Trouble-processing-“javax-xml-XMLConstants-class”-in-Android" class="headerlink" title="Trouble processing “javax/xml/XMLConstants.class” in Android"></a>Trouble processing “javax/xml/XMLConstants.class” in Android</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">implementation (<span class="string">'com.squareup.retrofit2:converter-simplexml:2.3.0'</span>)&#123;</span><br><span class="line">    <span class="keyword">exclude</span> module: <span class="string">'stax-api'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://stackoverflow.com/questions/17165498/trouble-processing-javax-xml-xmlconstants-class-in-android" target="_blank" rel="noopener">https://stackoverflow.com/questions/17165498/trouble-processing-javax-xml-xmlconstants-class-in-android</a></p><h3 id="接入TBS后，webView拍照上传图片失败"><a href="#接入TBS后，webView拍照上传图片失败" class="headerlink" title="接入TBS后，webView拍照上传图片失败"></a>接入TBS后，webView拍照上传图片失败</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.app.Activity;</span><br><span class="line"><span class="keyword">import</span> android.app.ActivityOptions;</span><br><span class="line"><span class="keyword">import</span> android.content.Context;</span><br><span class="line"><span class="keyword">import</span> android.content.Intent;</span><br><span class="line"><span class="keyword">import</span> android.net.Uri;</span><br><span class="line"><span class="keyword">import</span> android.view.KeyEvent;</span><br><span class="line"><span class="keyword">import</span> android.view.View;</span><br><span class="line"><span class="keyword">import</span> android.view.ViewGroup;</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.tencent.smtt.sdk.ValueCallback;</span><br><span class="line"><span class="keyword">import</span> com.tencent.smtt.sdk.WebChromeClient;</span><br><span class="line"><span class="keyword">import</span> com.tencent.smtt.sdk.WebSettings;</span><br><span class="line"><span class="keyword">import</span> com.tencent.smtt.sdk.WebView;</span><br><span class="line"><span class="keyword">import</span> com.tencent.smtt.sdk.WebViewClient;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebViewActivity</span> <span class="keyword">extends</span> <span class="title">Activity</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> ValueCallback&lt;Uri&gt; uploadFile;</span><br><span class="line">    <span class="keyword">private</span> ValueCallback&lt;Uri[]&gt; uploadFiles;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//oncreate...</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span>&#123;</span><br><span class="line">        wvContent.setWebChromeClient(<span class="keyword">new</span> WebChromeClient() &#123;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// For Android 3.0+</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openFileChooser</span><span class="params">(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType)</span> </span>&#123;</span><br><span class="line">                WebViewActivity.<span class="keyword">this</span>.uploadFile = uploadMsg;</span><br><span class="line">                openFileChooseProcess();</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// For Android &lt; 3.0</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openFileChooser</span><span class="params">(ValueCallback&lt;Uri&gt; uploadMsgs)</span> </span>&#123;</span><br><span class="line">                WebViewActivity.<span class="keyword">this</span>.uploadFile = uploadMsgs;</span><br><span class="line">                openFileChooseProcess();</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// For Android  &gt; 4.1.1</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">openFileChooser</span><span class="params">(ValueCallback&lt;Uri&gt; uploadMsg, String acceptType, String capture)</span> </span>&#123;</span><br><span class="line">                WebViewActivity.<span class="keyword">this</span>.uploadFile = uploadMsg;</span><br><span class="line">                openFileChooseProcess();</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="comment">// For Android  &gt;= 5.0</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onShowFileChooser</span><span class="params">(com.tencent.smtt.sdk.WebView webView,</span></span></span><br><span class="line"><span class="function"><span class="params">                                             ValueCallback&lt;Uri[]&gt; filePathCallback,</span></span></span><br><span class="line"><span class="function"><span class="params">                                             WebChromeClient.FileChooserParams fileChooserParams)</span> </span>&#123;</span><br><span class="line">                WebViewActivity.<span class="keyword">this</span>.uploadFiles = filePathCallback;</span><br><span class="line">                openFileChooseProcess();</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onReceivedTitle</span><span class="params">(WebView view, String title)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.onReceivedTitle(view, title);</span><br><span class="line">                setTitle(title);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">openFileChooseProcess</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Intent i = <span class="keyword">new</span> Intent(Intent.ACTION_GET_CONTENT);</span><br><span class="line">        i.addCategory(Intent.CATEGORY_OPENABLE);</span><br><span class="line">        i.setType(<span class="string">"*/*"</span>);</span><br><span class="line">        startActivityForResult(Intent.createChooser(i, <span class="string">"File Chooser"</span>), <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onActivityResult</span><span class="params">(<span class="keyword">int</span> requestCode, <span class="keyword">int</span> resultCode, Intent data)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">super</span>.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">        <span class="keyword">if</span> (resultCode == RESULT_OK) &#123;</span><br><span class="line">            <span class="keyword">switch</span> (requestCode) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">null</span> != uploadFile) &#123;</span><br><span class="line">                        Uri result = data == <span class="keyword">null</span> || resultCode != RESULT_OK ? <span class="keyword">null</span></span><br><span class="line">                                : data.getData();</span><br><span class="line">                        uploadFile.onReceiveValue(result);</span><br><span class="line">                        uploadFile = <span class="keyword">null</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="keyword">null</span> != uploadFiles) &#123;</span><br><span class="line">                        Uri result = data == <span class="keyword">null</span> || resultCode != RESULT_OK ? <span class="keyword">null</span></span><br><span class="line">                                : data.getData();</span><br><span class="line">                        uploadFiles.onReceiveValue(<span class="keyword">new</span> Uri[]&#123;result&#125;);</span><br><span class="line">                        uploadFiles = <span class="keyword">null</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (resultCode == RESULT_CANCELED) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != uploadFile) &#123;</span><br><span class="line">                uploadFile.onReceiveValue(<span class="keyword">null</span>);</span><br><span class="line">                uploadFile = <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">null</span> != uploadFiles) &#123;</span><br><span class="line">                uploadFiles.onReceiveValue(<span class="keyword">null</span>);</span><br><span class="line">                uploadFile = <span class="keyword">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Failed-to-finalize-session-INSTALL-FAILED-INVALID-APK-signatures-are-inconsistent"><a href="#Failed-to-finalize-session-INSTALL-FAILED-INVALID-APK-signatures-are-inconsistent" class="headerlink" title="Failed to finalize session : INSTALL_FAILED_INVALID_APK: /.. signatures are inconsistent"></a>Failed to finalize session : INSTALL_FAILED_INVALID_APK: /.. signatures are inconsistent</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Installation failed with message Failed to finalize session : INSTALL_FAILED_INVALID_APK: /data/app/vmdl1718624679.tmp/2_dependencies signatures are inconsistent.</span><br><span class="line">It is possible that this issue is resolved by uninstalling an existing version of the apk if it is present, and then re-installing.</span><br><span class="line"></span><br><span class="line">WARNING: Uninstalling will remove the application data!</span><br><span class="line"></span><br><span class="line">Do you want to uninstall the existing application?</span><br></pre></td></tr></table></figure><p>先clean,再重新运行</p><h3 id="TBS播放视频"><a href="#TBS播放视频" class="headerlink" title="TBS播放视频"></a>TBS播放视频</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mActivity.getWindow().setFormat(PixelFormat.TRANSLUCENT);</span><br><span class="line"><span class="keyword">if</span> (TbsVideo.canUseTbsPlayer(mContext)) &#123;</span><br><span class="line">    TbsVideo.openVideo(mContext, url);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="TBS报错Didn’t-find-class-“com-tencent-smtt-export-external-interfaces-CorePermissionRequest"><a href="#TBS报错Didn’t-find-class-“com-tencent-smtt-export-external-interfaces-CorePermissionRequest" class="headerlink" title="TBS报错Didn’t find class “com.tencent.smtt.export.external.interfaces.CorePermissionRequest"></a>TBS报错Didn’t find class “com.tencent.smtt.export.external.interfaces.CorePermissionRequest</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Rejecting re-init on previously-failed class java.lang.Class&lt;com.tencent.smtt.webkit.WebViewChromiumExtension$49&gt;: java.lang.NoClassDefFoundError: Failed resolution of: Lcom/tencent/smtt/export/external/interfaces/CorePermissionRequest$CorePermissionRequestCallback;</span><br><span class="line">Caused by: java.lang.ClassNotFoundException: Didn&apos;t find class &quot;com.tencent.smtt.export.external.interfaces.CorePermissionRequest$CorePermissionRequestCallback&quot; on path: DexPathList[[zip file &quot;/data/user/0/com.tencent.mobileqq/app_tbs/core_share/tbs_jars_fusion_dex.jar&quot;],nativeLibraryDirectories=[/data/user/0/com.tencent.mobileqq/app_tbs/core_share, /data/user/0/com.tencent.mobileqq/app_tbs/share/plugins/com.tencent.qb.plugin.videodecode, /system/lib, /vendor/lib]]</span><br></pre></td></tr></table></figure><h3 id="WebView监听上下滑动-设置工具栏隐藏"><a href="#WebView监听上下滑动-设置工具栏隐藏" class="headerlink" title="WebView监听上下滑动,设置工具栏隐藏"></a>WebView监听上下滑动,设置工具栏隐藏</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> y1 = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">float</span> y2 = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">dispatchTouchEvent</span><span class="params">(MotionEvent event)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (event.getAction() == MotionEvent.ACTION_DOWN) &#123;</span><br><span class="line">        y1 = event.getY();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (event.getAction() == MotionEvent.ACTION_MOVE) &#123;</span><br><span class="line">        y2 = event.getY();</span><br><span class="line">        <span class="keyword">if</span> (y1 - y2 &gt; <span class="number">50</span>) &#123;</span><br><span class="line">            llWVTool.setVisibility(View.GONE);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (y2 - y1 &gt; <span class="number">50</span>) &#123;</span><br><span class="line">            llWVTool.setVisibility(View.VISIBLE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.dispatchTouchEvent(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="android-os-DeadSystemException"><a href="#android-os-DeadSystemException" class="headerlink" title="android.os.DeadSystemException:"></a>android.os.DeadSystemException:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android.os.DeadSystemException: The system died; earlier logs will point to the root cause</span><br></pre></td></tr></table></figure><h3 id="Failed-to-resolve-common"><a href="#Failed-to-resolve-common" class="headerlink" title="Failed to resolve: common"></a>Failed to resolve: common</h3><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:3.0.0'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">allprojects</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        google()</span><br><span class="line">        jcenter()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>将google()写在前面</p><h3 id="在Fragment中使用MaterialSearchView"><a href="#在Fragment中使用MaterialSearchView" class="headerlink" title="在Fragment中使用MaterialSearchView"></a>在Fragment中使用MaterialSearchView</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">setHasOptionsMenu(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu, MenuInflater inflater)</span> </span>&#123;</span><br><span class="line">    inflater.inflate(R.menu.search_view, menu);</span><br><span class="line">    <span class="keyword">super</span>.onCreateOptionsMenu(menu, inflater);</span><br><span class="line">    <span class="keyword">final</span> MenuItem item = menu.findItem(R.id.action_search);</span><br><span class="line">    searchView.setMenuItem(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://github.com/MiguelCatalan/MaterialSearchView/issues/45" target="_blank" rel="noopener">https://github.com/MiguelCatalan/MaterialSearchView/issues/45</a></p><h3 id="输入法将BottomNavigationBar-底部导航栏-顶上去"><a href="#输入法将BottomNavigationBar-底部导航栏-顶上去" class="headerlink" title="输入法将BottomNavigationBar(底部导航栏)顶上去"></a>输入法将BottomNavigationBar(底部导航栏)顶上去</h3><p>在应用清单中给当前<activity>设置:</activity></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">android:windowSoftInputMode=&quot;adjustPan&quot;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://developer.android.google.cn/guide/topics/manifest/activity-element#wsoft" target="_blank" rel="noopener">https://developer.android.google.cn/guide/topics/manifest/activity-element#wsoft</a></p><h3 id="InnerClass-annotations-are-missing-corresponding-EnclosingMember-annotations"><a href="#InnerClass-annotations-are-missing-corresponding-EnclosingMember-annotations" class="headerlink" title="InnerClass annotations are missing corresponding EnclosingMember annotations."></a>InnerClass annotations are missing corresponding EnclosingMember annotations.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">InnerClass annotations are missing corresponding EnclosingMember annotations. Such InnerClass annotations are ignored.</span><br><span class="line">	Message&#123;kind=WARNING, text=InnerClass annotations are missing corresponding EnclosingMember annotations. Such InnerClass annotations are ignored., </span><br><span class="line">		sources=[Unknown source file], tool name=Optional.of(D8)&#125;</span><br></pre></td></tr></table></figure><p>解决方法:</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">buildTypes &#123;</span><br><span class="line">    release &#123;</span><br><span class="line">        lintOptions &#123;</span><br><span class="line">            checkReleaseBuilds <span class="keyword">false</span></span><br><span class="line">            abortOnError <span class="keyword">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RecyclerView-最后一个item设置paddingBottom"><a href="#RecyclerView-最后一个item设置paddingBottom" class="headerlink" title="RecyclerView 最后一个item设置paddingBottom"></a>RecyclerView 最后一个item设置paddingBottom</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.v7.widget.RecyclerView</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:id</span>=<span class="string">"@+id/recyclerView"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:clipToPadding</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">android:paddingBottom</span>=<span class="string">"15dp"</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>参考: <a href="https://stackoverflow.com/questions/33754445/margin-padding-in-last-child-in-recyclerview" target="_blank" rel="noopener">https://stackoverflow.com/questions/33754445/margin-padding-in-last-child-in-recyclerview</a></p><h2 id="Git相关问题"><a href="#Git相关问题" class="headerlink" title="Git相关问题"></a>Git相关问题</h2><h3 id="切换目录"><a href="#切换目录" class="headerlink" title="切换目录"></a>切换目录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /d</span><br></pre></td></tr></table></figure><h2 id="Sonar相关问题"><a href="#Sonar相关问题" class="headerlink" title="Sonar相关问题"></a>Sonar相关问题</h2><h3 id="“BigDecimal-double-”-should-not-be-used"><a href="#“BigDecimal-double-”-should-not-be-used" class="headerlink" title="“BigDecimal(double)” should not be used"></a>“BigDecimal(double)” should not be used</h3><p>不要使用BigDecimal(double)去构造一个BigDecimal对象，因为double类型在计算机表示方法中并不精确，因此，BigDecimal(double)构造出来的对象很可能不是预期的大小，若一定要使用double类型去构造一个BigDecimal对象，请使用BigDecimal.valueOf方法，该方法先将double转换为String，再通过String构造BigDecimal对象，通常更建议使用public BigDecimal(String val)构造方法。</p><p>Noncompliant Code Example</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d = <span class="number">1.1</span>;</span><br><span class="line"></span><br><span class="line">BigDecimal bd1 = <span class="keyword">new</span> BigDecimal(d); <span class="comment">// Noncompliant; see comment above</span></span><br><span class="line">BigDecimal bd2 = <span class="keyword">new</span> BigDecimal(<span class="number">1.1</span>); <span class="comment">// Noncompliant; same result</span></span><br></pre></td></tr></table></figure><p>Compliant Solution<br></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d = <span class="number">1.1</span>;</span><br><span class="line"></span><br><span class="line">BigDecimal bd1 = BigDecimal.valueOf(d);</span><br><span class="line">BigDecimal bd2 = <span class="keyword">new</span> BigDecimal(<span class="string">"1.1"</span>); <span class="comment">// using String constructor will result in precise value</span></span><br></pre></td></tr></table></figure><p></p><p>see :</p><ul><li><a href="https://wiki.sei.cmu.edu/confluence/display/java/SEI+CERT+Oracle+Coding+Standard+for+Java" target="_blank" rel="noopener">SEI CERT Oracle Coding Standard for Java</a></li><li><a href="https://rules.sonarsource.com/java/" target="_blank" rel="noopener">SonarSource Rules Explorer</a></li><li><a href="https://rules.sonarsource.com/java/type/Bug/RSPEC-2111" target="_blank" rel="noopener">“BigDecimal(double)” should not be used</a></li></ul><h3 id="Lambdas-should-be-replaced-with-method-references"><a href="#Lambdas-should-be-replaced-with-method-references" class="headerlink" title="Lambdas should be replaced with method references"></a>Lambdas should be replaced with method references</h3><p>改成mView::scan</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">RxPermissions rxPermissions = <span class="keyword">new</span> RxPermissions(activity);</span><br><span class="line">        rxPermissions</span><br><span class="line">                .request(Manifest.permission.CAMERA)</span><br><span class="line">                .subscribe(mView::scan);</span><br></pre></td></tr></table></figure><p>参考:<a href="https://stackoverflow.com/questions/44874857/intellij-can-be-replaced-with-method-reference" target="_blank" rel="noopener">Intellij - can be replaced with method reference</a></p><h2 id="Jenkins相关问题"><a href="#Jenkins相关问题" class="headerlink" title="Jenkins相关问题"></a>Jenkins相关问题</h2><h3 id="Could-not-find-com-android-tools-build-gradle-3-0-1"><a href="#Could-not-find-com-android-tools-build-gradle-3-0-1" class="headerlink" title="Could not find com.android.tools.build:gradle:3.0.1"></a>Could not find com.android.tools.build:gradle:3.0.1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"></span><br><span class="line">* What went wrong:</span><br><span class="line">A problem occurred configuring root project &apos;mokioo&apos;.</span><br><span class="line">&gt; Could not resolve all files for configuration &apos;:classpath&apos;.</span><br><span class="line">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span><br><span class="line">     Required by:</span><br><span class="line">         project :</span><br><span class="line">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span><br><span class="line">         &gt; Could not get resource &apos;https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom&apos;.</span><br><span class="line">            &gt; Could not HEAD &apos;https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom&apos;.</span><br><span class="line">               &gt; Connect to jcenter.bintray.com:443 [jcenter.bintray.com/75.126.118.188] failed: Connection timed out: connect</span><br><span class="line">   &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span><br><span class="line">     Required by:</span><br><span class="line">         project : &gt; com.jakewharton:butterknife-gradle-plugin:8.5.1</span><br><span class="line">      &gt; Could not resolve com.android.tools.build:gradle:3.0.1.</span><br><span class="line">         &gt; Could not get resource &apos;https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom&apos;.</span><br><span class="line">            &gt; Could not HEAD &apos;https://jcenter.bintray.com/com/android/tools/build/gradle/3.0.1/gradle-3.0.1.pom&apos;.</span><br><span class="line">               &gt; Connect to jcenter.bintray.com:443 [jcenter.bintray.com/75.126.118.188] failed: Connection timed out: connect</span><br><span class="line"></span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</span><br><span class="line"></span><br><span class="line">* Get more help at https://help.gradle.org</span><br><span class="line"></span><br><span class="line">BUILD FAILED in 26s</span><br><span class="line">Build step &apos;Invoke Gradle script&apos; changed build result to FAILURE</span><br><span class="line">Build step &apos;Invoke Gradle script&apos; marked build as failure</span><br><span class="line">WARN: Unable to locate &apos;report-task.txt&apos; in the workspace. Did the SonarScanner succedeed?</span><br><span class="line">归档成品</span><br><span class="line">Finished: FAILURE</span><br></pre></td></tr></table></figure><p>提示连接到jcenter超时,在项目build.gradle中添加google()</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">buildscript</span> &#123;</span><br><span class="line">    <span class="keyword">repositories</span> &#123;</span><br><span class="line">        jcenter()</span><br><span class="line">        google()     <span class="comment">//添加</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">dependencies</span> &#123;</span><br><span class="line">        <span class="keyword">classpath</span> <span class="string">'com.android.tools.build:gradle:3.0.1'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">NOTE:</span> Do not place your application dependencies here; they belong</span></span><br><span class="line">        <span class="comment">// in the individual module build.gradle files</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Step-‘Publish-JUnit-test-result-report’-failed"><a href="#Step-‘Publish-JUnit-test-result-report’-failed" class="headerlink" title="Step ‘Publish JUnit test result report’ failed"></a>Step ‘Publish JUnit test result report’ failed</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR: Step &apos;Publish JUnit test result report&apos; failed: No test report files were found. Configuration error?</span><br></pre></td></tr></table></figure><p>没有配置测试报告(XML)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app/build/test-results/testDebugUnitTest/*.xml</span><br></pre></td></tr></table></figure><h3 id="Execution-failed-for-task-‘-app-transformClassesWithJacocoForDebug’"><a href="#Execution-failed-for-task-‘-app-transformClassesWithJacocoForDebug’" class="headerlink" title="Execution failed for task ‘:app:transformClassesWithJacocoForDebug’."></a>Execution failed for task ‘:app:transformClassesWithJacocoForDebug’.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">:app:transformClassesWithJacocoForDebug FAILED</span><br><span class="line"></span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"></span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed for task &apos;:app:transformClassesWithJacocoForDebug&apos;.</span><br><span class="line">&gt; There was a failure while executing work items</span><br><span class="line">   &gt; java.util.concurrent.ExecutionException: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: </span><br><span class="line">			A failure occurred while executing com.android.build.gradle.internal.transforms.JacocoTransform$JacocoWorkerAction</span><br><span class="line"></span><br><span class="line">* Try:</span><br><span class="line">Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</span><br><span class="line"></span><br><span class="line">* Get more help at https://help.gradle.org</span><br></pre></td></tr></table></figure><p>解决方法:</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">classpath</span>(<span class="string">'com.dicedmelon.gradle:jacoco-android:0.1.2'</span>) &#123;</span><br><span class="line">    <span class="keyword">exclude</span> <span class="keyword">group</span>: <span class="string">'org.codehaus.groovy'</span>, module: <span class="string">'groovy-all'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>参考:<a href="https://github.com/arturdm/jacoco-android-gradle-plugin/issues/42" target="_blank" rel="noopener">https://github.com/arturdm/jacoco-android-gradle-plugin/issues/42</a></p><h3 id="java-lang-IllegalStateException-No-files-nor-directories-matching-‘app-build-intermediates-classes’"><a href="#java-lang-IllegalStateException-No-files-nor-directories-matching-‘app-build-intermediates-classes’" class="headerlink" title="java.lang.IllegalStateException: No files nor directories matching ‘app/build/intermediates/classes’"></a>java.lang.IllegalStateException: No files nor directories matching ‘app/build/intermediates/classes’</h3><p>Android Studio 3.3 Canary 2 生成的classes文件夹为<code>app\build\intermediates\javac\debug\compileDebugJavaWithJavac\classes</code></p><p>需要将Jenkins项目配置</p><p>1.Execute SonarQube Scanner -&gt; Analysis properties</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sonar.java.binaries=app/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes</span><br></pre></td></tr></table></figure><p>2.Record JaCoCo coverage report -&gt; Path to class directories (e.g.: <strong>/target/classDir, </strong>/classes)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app/build/intermediates/javac/debug/compileDebugJavaWithJavac/classes</span><br></pre></td></tr></table></figure><p>重新构建即可</p><h2 id="Ruby相关问题"><a href="#Ruby相关问题" class="headerlink" title="Ruby相关问题"></a>Ruby相关问题</h2><h3 id="cannot-load-such-file-–-sqlite3-sqlite3-native"><a href="#cannot-load-such-file-–-sqlite3-sqlite3-native" class="headerlink" title="cannot load such file – sqlite3/sqlite3_native"></a>cannot load such file – sqlite3/sqlite3_native</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">D:/Ruby25-x64/lib/ruby/gems/2.5.0/gems/bootsnap-1.3.0/lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:32:</span><br><span class="line">in `require&apos;: cannot load such file -- sqlite3/sqlite3_native (LoadError)</span><br></pre></td></tr></table></figure><p>1.install sqlite3</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ridk <span class="built_in">exec</span> pacman -S mingw-w64-x86_64-sqlite3</span><br><span class="line">$ gem install sqlite3 --platform ruby</span><br></pre></td></tr></table></figure><p>2.进入到sqlite3目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd D:\Ruby25-x64\lib\ruby\gems\2.5.0\gems\sqlite3-1.3.13</span><br></pre></td></tr></table></figure><p>3.开启mingw编译环境</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ridk <span class="built_in">enable</span></span><br></pre></td></tr></table></figure><p>4.执行以下命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ruby setup.rb config</span><br><span class="line">ruby setup.rb setup</span><br><span class="line">ruby setup.rb install</span><br></pre></td></tr></table></figure><p>参考: <a href="https://github.com/sparklemotion/sqlite3-ruby/issues/228" target="_blank" rel="noopener">https://github.com/sparklemotion/sqlite3-ruby/issues/228</a></p><h2 id="Node-js相关问题"><a href="#Node-js相关问题" class="headerlink" title="Node.js相关问题"></a>Node.js相关问题</h2><h3 id="解析mobi文件出错"><a href="#解析mobi文件出错" class="headerlink" title="解析mobi文件出错"></a>解析mobi文件出错</h3><p><a href="https://github.com/ctbarna/node-mobi" target="_blank" rel="noopener">https://github.com/ctbarna/node-mobi</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Error: LZ77 compression isn&apos;t supported... yet.</span><br><span class="line">    at Mobi.parse (F:\hexo\node_modules\mobi\lib\mobi.js:74:17)</span><br><span class="line">    at new Mobi (F:\hexo\node_modules\mobi\lib\mobi.js:20:12)</span><br><span class="line">    at Object.&lt;anonymous&gt; (F:\hexo\test.js:6:12)</span><br><span class="line">    at Module._compile (module.js:649:30)</span><br><span class="line">    at Object.Module._extensions..js (module.js:660:10)</span><br><span class="line">    at Module.load (module.js:561:32)</span><br><span class="line">    at tryModuleLoad (module.js:501:12)</span><br><span class="line">    at Function.Module._load (module.js:493:3)</span><br><span class="line">    at Function.Module.runMain (module.js:690:10)</span><br><span class="line">    at startup (bootstrap_node.js:194:16)</span><br></pre></td></tr></table></figure><p>暂未解决</p><h3 id="Ubuntu14-04下安装node-js-默认版本太旧"><a href="#Ubuntu14-04下安装node-js-默认版本太旧" class="headerlink" title="Ubuntu14.04下安装node.js(默认版本太旧)"></a>Ubuntu14.04下安装node.js(默认版本太旧)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_8.x -o nodesource_setup.sh</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo bash nodesource_setup.sh</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install nodejs</span><br></pre></td></tr></table></figure><p>nodejs 版本号:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nodejs -v</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">v8.10.0</span><br></pre></td></tr></table></figure><p>npm 版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm -v</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">5.6.0</span><br></pre></td></tr></table></figure><p>参考: <a href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-16-04" target="_blank" rel="noopener">https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-16-04</a></p><h3 id="Markdown-to-static-HTML"><a href="#Markdown-to-static-HTML" class="headerlink" title="Markdown to static HTML"></a>Markdown to static HTML</h3><p>1.安装 generate-md 插件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g markdown-styles</span><br></pre></td></tr></table></figure><p>2.将需要的markdown文件转换成html</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">generate-md --layout github --input ./input --output ./output</span><br></pre></td></tr></table></figure><p>3.generate-md CLI 选项</p><ul><li>–input<path></path>指定输入目录（默认值:) ./input/</li><li>–output<path></path>指定输出目录（默认值:) ./output/</li><li>–layout<path></path>指定布局<ul><li>bootstrap3</li><li>github</li><li>jasonm23-dark</li><li>jasonm23-foghorn</li><li>jasonm23-markdown</li><li>jasonm23-swiss</li><li>markedapp-byword</li><li>mixu-book</li><li>mixu-bootstrap-2col</li><li>mixu-bootstrap</li><li>mixu-gray</li><li>mixu-page</li><li>mixu-radar</li><li>roryg-ghostwriter</li><li>thomasf-solarizedcssdark</li><li>thomasf-solarizedcsslight</li><li>witex</li></ul></li><li>–export<name>：将内置布局导出到目录</name></li><li>–highlight-<language><module>：指定用于特定语言的自定义突出显示器模块</module></language></li><li>–no-header-links：如果传递此标志，则不会生成标题链接的HTML。默认情况下启用悬停链接。</li></ul><p>网址: <a href="https://github.com/mixu/markdown-styles" target="_blank" rel="noopener">https://github.com/mixu/markdown-styles</a></p><h2 id="Notepad-相关问题"><a href="#Notepad-相关问题" class="headerlink" title="Notepad++ 相关问题"></a>Notepad++ 相关问题</h2><h3 id="安装-markdown-插件"><a href="#安装-markdown-插件" class="headerlink" title="安装 markdown 插件"></a>安装 markdown 插件</h3><p>下载后导入语言</p><p>参考:<a href="https://github.com/Edditoria/markdown-plus-plus" target="_blank" rel="noopener">https://github.com/Edditoria/markdown-plus-plus</a></p><h2 id="IntelliJ-IDEA-相关问题"><a href="#IntelliJ-IDEA-相关问题" class="headerlink" title="IntelliJ IDEA 相关问题"></a>IntelliJ IDEA 相关问题</h2><h3 id="导入外部jar文件"><a href="#导入外部jar文件" class="headerlink" title="导入外部jar文件"></a>导入外部jar文件</h3><p>File –&gt; Project Structure -&gt; Project Settings -&gt; Modules -&gt; Dependencies -&gt; 点加号 -&gt; JARS or directories..</p><h2 id="Android-Studio-相关问题"><a href="#Android-Studio-相关问题" class="headerlink" title="Android Studio 相关问题"></a>Android Studio 相关问题</h2><h3 id="删除最近项目"><a href="#删除最近项目" class="headerlink" title="删除最近项目"></a>删除最近项目</h3><p>File / Open Recent / Manage Projects..</p><p><img src="/2018/05/21/bug/3.png" alt="Manage Projects"></p><h2 id="Flutter-相关问题"><a href="#Flutter-相关问题" class="headerlink" title="Flutter 相关问题"></a>Flutter 相关问题</h2><h3 id="Running-“flutter-packages-get”-加载太久"><a href="#Running-“flutter-packages-get”-加载太久" class="headerlink" title="Running “flutter packages get” 加载太久"></a>Running “flutter packages get” 加载太久</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flutter packages get --verbose</span><br></pre></td></tr></table></figure><p>参考:<a href="https://github.com/flutter/flutter/issues/15162" target="_blank" rel="noopener">https://github.com/flutter/flutter/issues/15162</a></p><h2 id="公众号相关问题"><a href="#公众号相关问题" class="headerlink" title="公众号相关问题"></a>公众号相关问题</h2><h3 id="该网页由mp-weixin-qq-com提供"><a href="#该网页由mp-weixin-qq-com提供" class="headerlink" title="该网页由mp.weixin.qq.com提供"></a>该网页由mp.weixin.qq.com提供</h3><p>有的公众号商城显示该网页由mp.weixin.qq.com提供</p><p>链接为</p><blockquote><p><a href="http://mp.weixin.qq.com/bizmall/mallshelf?t=mall/list&amp;biz=MzIxNjc1ODI3OA==&amp;shelf_id=1&amp;showwxpaytitle=1&amp;scene=1#wechat_redirect" target="_blank" rel="noopener">http://mp.weixin.qq.com/bizmall/mallshelf?t=mall/list&amp;biz=MzIxNjc1ODI3OA==&amp;shelf_id=1&amp;showwxpaytitle=1&amp;scene=1#wechat_redirect</a></p></blockquote><p>可以进入到公众号后台 &gt; 功能 &gt; 微信小店 &gt; 货架管理(商品管理) 生成二维码或链接</p><h3 id="微信公众平台的简称“MP”"><a href="#微信公众平台的简称“MP”" class="headerlink" title="微信公众平台的简称“MP”"></a>微信公众平台的简称“MP”</h3><p>Media Platform（媒体平台）的缩写</p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Git/" rel="tag"># Git</a> <a href="/tags/Hexo/" rel="tag"># Hexo</a> <a href="/tags/Android/" rel="tag"># Android</a> <a href="/tags/MantisBT/" rel="tag"># MantisBT</a> <a href="/tags/Bug/" rel="tag"># Bug</a> <a href="/tags/WeiXin/" rel="tag"># WeiXin</a> <a href="/tags/Ruby/" rel="tag"># Ruby</a> <a href="/tags/SQLite3/" rel="tag"># SQLite3</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2018/05/21/urls/" rel="next" title="学习及查资料等相关网址"><i class="fa fa-chevron-left"></i> 学习及查资料等相关网址</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2018/05/28/install_ruby_in_windows/" rel="prev" title="Windows下配置Ruby on Rails">Windows下配置Ruby on Rails <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="https://avatars1.githubusercontent.com/u/17245762?s=460&v=4" alt="Delme-bat"><p class="site-author-name" itemprop="name">Delme-bat</p><p class="site-description motion-element" itemprop="description"></p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">14</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">14</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">34</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="links-of-author motion-element"></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#MantisBT配置邮件出现发不出去的问题"><span class="nav-number">1.</span> <span class="nav-text">MantisBT配置邮件出现发不出去的问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Hexo相关问题"><span class="nav-number">2.</span> <span class="nav-text">Hexo相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#加入背景图片"><span class="nav-number">2.1.</span> <span class="nav-text">加入背景图片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置字体颜色及checkbox"><span class="nav-number">2.2.</span> <span class="nav-text">设置字体颜色及checkbox</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成时提示highlight出错"><span class="nav-number">2.3.</span> <span class="nav-text">生成时提示highlight出错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加文章更新时间"><span class="nav-number">2.4.</span> <span class="nav-text">添加文章更新时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#minifier压缩"><span class="nav-number">2.5.</span> <span class="nav-text">minifier压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#搜索功能"><span class="nav-number">2.6.</span> <span class="nav-text">搜索功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表格中换行"><span class="nav-number">2.7.</span> <span class="nav-text">表格中换行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表格宽度调整"><span class="nav-number">2.8.</span> <span class="nav-text">表格宽度调整</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#华丽丽的分割线"><span class="nav-number">2.9.</span> <span class="nav-text">华丽丽的分割线</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#提交谷歌搜索"><span class="nav-number">2.10.</span> <span class="nav-text">提交谷歌搜索</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#集成一言"><span class="nav-number">2.11.</span> <span class="nav-text">集成一言</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#嵌入视频"><span class="nav-number">2.12.</span> <span class="nav-text">嵌入视频</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Java相关问题"><span class="nav-number">3.</span> <span class="nav-text">Java相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#修饰符顺序声明"><span class="nav-number">3.1.</span> <span class="nav-text">修饰符顺序声明</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gson库json设置别名"><span class="nav-number">3.2.</span> <span class="nav-text">gson库json设置别名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tomcat-manager-显示403"><span class="nav-number">3.3.</span> <span class="nav-text">tomcat manager 显示403</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Android相关问题"><span class="nav-number">4.</span> <span class="nav-text">Android相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#查看CPU信息"><span class="nav-number">4.1.</span> <span class="nav-text">查看CPU信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用命令安装应用"><span class="nav-number">4.2.</span> <span class="nav-text">使用命令安装应用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RecycleView一行多列显示"><span class="nav-number">4.3.</span> <span class="nav-text">RecycleView一行多列显示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ImageView-ScaleType"><span class="nav-number">4.4.</span> <span class="nav-text">ImageView.ScaleType</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#gradle-build-scan"><span class="nav-number">4.5.</span> <span class="nav-text">gradle build scan</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Spinner-设置字体颜色"><span class="nav-number">4.6.</span> <span class="nav-text">Spinner 设置字体颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ProgressBar设置颜色"><span class="nav-number">4.7.</span> <span class="nav-text">ProgressBar设置颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Toolbar中PopuMenu菜单显示位置"><span class="nav-number">4.8.</span> <span class="nav-text">Toolbar中PopuMenu菜单显示位置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改Toolbar右上角三个圆点的颜色"><span class="nav-number">4.9.</span> <span class="nav-text">修改Toolbar右上角三个圆点的颜色</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置debug签名信息"><span class="nav-number">4.10.</span> <span class="nav-text">设置debug签名信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#打开通知授权界面"><span class="nav-number">4.11.</span> <span class="nav-text">打开通知授权界面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FlycoTabLayout设置未读数量-位置有偏差"><span class="nav-number">4.12.</span> <span class="nav-text">FlycoTabLayout设置未读数量,位置有偏差</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#androidTest与test包的区别"><span class="nav-number">4.13.</span> <span class="nav-text">androidTest与test包的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Play商店更新应用-包名已更改"><span class="nav-number">4.14.</span> <span class="nav-text">Google Play商店更新应用(包名已更改)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Play商店上架提示-您上传了可调试的APK或Android-App-Bundle"><span class="nav-number">4.15.</span> <span class="nav-text">Google Play商店上架提示,您上传了可调试的APK或Android App Bundle.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Google-Play商店上架提示-请将应用的最低目标API级别调整为26"><span class="nav-number">4.16.</span> <span class="nav-text">Google Play商店上架提示,请将应用的最低目标API级别调整为26.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Android8-0开启热点"><span class="nav-number">4.17.</span> <span class="nav-text">Android8.0开启热点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Android8-0获取热点信息失败"><span class="nav-number">4.18.</span> <span class="nav-text">Android8.0获取热点信息失败</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#资源文件中出现百分号处理"><span class="nav-number">4.19.</span> <span class="nav-text">资源文件中出现百分号处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#重复的包"><span class="nav-number">4.20.</span> <span class="nav-text">重复的包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Could-not-find-class-‘com-facebook-LoggingBehavior-’"><span class="nav-number">4.21.</span> <span class="nav-text">Could not find class ‘com.facebook.LoggingBehavior[]’</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Execution-failed-for-task-‘-app-transformClassesWithInstantRunForDebug’"><span class="nav-number">4.22.</span> <span class="nav-text">Execution failed for task ‘:app:transformClassesWithInstantRunForDebug’</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法"><span class="nav-number">4.23.</span> <span class="nav-text">NestedScrollView嵌套RecyclerView时滑动不流畅问题的解决办法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Glide加载图片出错"><span class="nav-number">4.24.</span> <span class="nav-text">Glide加载图片出错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Could-not-find-android-arch-core-common-1-1-0"><span class="nav-number">4.25.</span> <span class="nav-text">Could not find android.arch.core:common:1.1.0</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Drawable-has-unresolved-theme-attributes"><span class="nav-number">4.26.</span> <span class="nav-text">Drawable has unresolved theme attributes!</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在Fragment中使用StartActivityForResult，RequestCode错乱"><span class="nav-number">4.27.</span> <span class="nav-text">在Fragment中使用StartActivityForResult，RequestCode错乱</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Activity返回刷新界面"><span class="nav-number">4.28.</span> <span class="nav-text">Activity返回刷新界面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Fragment返回刷新界面"><span class="nav-number">4.29.</span> <span class="nav-text">Fragment返回刷新界面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Toolbar不能同时显示图片和文字"><span class="nav-number">4.30.</span> <span class="nav-text">Toolbar不能同时显示图片和文字</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#xpp3-defines-classes-that-conflict-with-classes-now-provided-by-Android"><span class="nav-number">4.31.</span> <span class="nav-text">xpp3 defines classes that conflict with classes now provided by Android.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Trouble-processing-“javax-xml-XMLConstants-class”-in-Android"><span class="nav-number">4.32.</span> <span class="nav-text">Trouble processing “javax/xml/XMLConstants.class” in Android</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接入TBS后，webView拍照上传图片失败"><span class="nav-number">4.33.</span> <span class="nav-text">接入TBS后，webView拍照上传图片失败</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Failed-to-finalize-session-INSTALL-FAILED-INVALID-APK-signatures-are-inconsistent"><span class="nav-number">4.34.</span> <span class="nav-text">Failed to finalize session : INSTALL_FAILED_INVALID_APK: /.. signatures are inconsistent</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TBS播放视频"><span class="nav-number">4.35.</span> <span class="nav-text">TBS播放视频</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TBS报错Didn’t-find-class-“com-tencent-smtt-export-external-interfaces-CorePermissionRequest"><span class="nav-number">4.36.</span> <span class="nav-text">TBS报错Didn’t find class “com.tencent.smtt.export.external.interfaces.CorePermissionRequest</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WebView监听上下滑动-设置工具栏隐藏"><span class="nav-number">4.37.</span> <span class="nav-text">WebView监听上下滑动,设置工具栏隐藏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#android-os-DeadSystemException"><span class="nav-number">4.38.</span> <span class="nav-text">android.os.DeadSystemException:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Failed-to-resolve-common"><span class="nav-number">4.39.</span> <span class="nav-text">Failed to resolve: common</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在Fragment中使用MaterialSearchView"><span class="nav-number">4.40.</span> <span class="nav-text">在Fragment中使用MaterialSearchView</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输入法将BottomNavigationBar-底部导航栏-顶上去"><span class="nav-number">4.41.</span> <span class="nav-text">输入法将BottomNavigationBar(底部导航栏)顶上去</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InnerClass-annotations-are-missing-corresponding-EnclosingMember-annotations"><span class="nav-number">4.42.</span> <span class="nav-text">InnerClass annotations are missing corresponding EnclosingMember annotations.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RecyclerView-最后一个item设置paddingBottom"><span class="nav-number">4.43.</span> <span class="nav-text">RecyclerView 最后一个item设置paddingBottom</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git相关问题"><span class="nav-number">5.</span> <span class="nav-text">Git相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#切换目录"><span class="nav-number">5.1.</span> <span class="nav-text">切换目录</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Sonar相关问题"><span class="nav-number">6.</span> <span class="nav-text">Sonar相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#“BigDecimal-double-”-should-not-be-used"><span class="nav-number">6.1.</span> <span class="nav-text">“BigDecimal(double)” should not be used</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Lambdas-should-be-replaced-with-method-references"><span class="nav-number">6.2.</span> <span class="nav-text">Lambdas should be replaced with method references</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Jenkins相关问题"><span class="nav-number">7.</span> <span class="nav-text">Jenkins相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Could-not-find-com-android-tools-build-gradle-3-0-1"><span class="nav-number">7.1.</span> <span class="nav-text">Could not find com.android.tools.build:gradle:3.0.1</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Step-‘Publish-JUnit-test-result-report’-failed"><span class="nav-number">7.2.</span> <span class="nav-text">Step ‘Publish JUnit test result report’ failed</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Execution-failed-for-task-‘-app-transformClassesWithJacocoForDebug’"><span class="nav-number">7.3.</span> <span class="nav-text">Execution failed for task ‘:app:transformClassesWithJacocoForDebug’.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#java-lang-IllegalStateException-No-files-nor-directories-matching-‘app-build-intermediates-classes’"><span class="nav-number">7.4.</span> <span class="nav-text">java.lang.IllegalStateException: No files nor directories matching ‘app/build/intermediates/classes’</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ruby相关问题"><span class="nav-number">8.</span> <span class="nav-text">Ruby相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cannot-load-such-file-–-sqlite3-sqlite3-native"><span class="nav-number">8.1.</span> <span class="nav-text">cannot load such file – sqlite3/sqlite3_native</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Node-js相关问题"><span class="nav-number">9.</span> <span class="nav-text">Node.js相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#解析mobi文件出错"><span class="nav-number">9.1.</span> <span class="nav-text">解析mobi文件出错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ubuntu14-04下安装node-js-默认版本太旧"><span class="nav-number">9.2.</span> <span class="nav-text">Ubuntu14.04下安装node.js(默认版本太旧)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Markdown-to-static-HTML"><span class="nav-number">9.3.</span> <span class="nav-text">Markdown to static HTML</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Notepad-相关问题"><span class="nav-number">10.</span> <span class="nav-text">Notepad++ 相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#安装-markdown-插件"><span class="nav-number">10.1.</span> <span class="nav-text">安装 markdown 插件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IntelliJ-IDEA-相关问题"><span class="nav-number">11.</span> <span class="nav-text">IntelliJ IDEA 相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导入外部jar文件"><span class="nav-number">11.1.</span> <span class="nav-text">导入外部jar文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Android-Studio-相关问题"><span class="nav-number">12.</span> <span class="nav-text">Android Studio 相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#删除最近项目"><span class="nav-number">12.1.</span> <span class="nav-text">删除最近项目</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flutter-相关问题"><span class="nav-number">13.</span> <span class="nav-text">Flutter 相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Running-“flutter-packages-get”-加载太久"><span class="nav-number">13.1.</span> <span class="nav-text">Running “flutter packages get” 加载太久</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#公众号相关问题"><span class="nav-number">14.</span> <span class="nav-text">公众号相关问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#该网页由mp-weixin-qq-com提供"><span class="nav-number">14.1.</span> <span class="nav-text">该网页由mp.weixin.qq.com提供</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#微信公众平台的简称“MP”"><span class="nav-number">14.2.</span> <span class="nav-text">微信公众平台的简称“MP”</span></a></li></ol></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; 2016 - <span itemprop="copyrightYear">2018</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Delme-bat</span></div><div class="powered-by">由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动</div><div class="theme-info">主题 - <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script><script type="text/javascript">// Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });</script><script type="text/javascript">$(function(){$.get("https://v1.hitokoto.cn/?encode=json&charset=utf-8",function(t){"f"==t.type||"e"==t.type?$(".site-subtitle").html(t.hitokoto):$(".site-subtitle").html(t.hitokoto+" - "+t.from)})})</script></body></html>